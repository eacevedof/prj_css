<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="./images/gotit-logo-orange.svg"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="terms.css" type="text/css" media="all" />
  <title>Terms & Conditions</title>
</head>
<body>
<main class="main-grid">
  <div class="div-wave-top">

  </div>
  <nav class="nav-grid container">
    <figure>
      <img src="./images/gotit-logo-orange.svg" class="nav-icon">
    </figure>
    <input type="checkbox" id="chk-hamburguer" autocomplete="off" />
    <ul class="nav-list-ul">
      <li class="nav-li-item"><a href="javascript: void(0)" class="nav-li-item-a" lang="EN">EN</a></li>
      <li class="nav-li-item"><a href="javascript: void(0)" class="nav-li-item-a" lang="ES">ES</a></li>
    </ul>
    <label for="chk-hamburguer" class="label-hamburger">
      <figure class="nav-menu-figure">
        <img src="./images/menu-icon.svg" class="nav-icon">
      </figure>
    </label>
  </nav>

  <section class="section-grid container">
    <div class="div-texts">
      <h1 class="text-h1">My </h1>
      <p class="text-p-subtitle">Let us grow your marketing campaigns!.</p>
      <p>
        "My promotions" allows you to configure promotional landing pages with different acquisition data input.
      </p>
      <p>
        Once your client got subscribed it will receive a promotion code to be showed at your business.
      </p>
      <p>
        All your confirmed subscribers will accumulate points and you can handle these in order to increase customer loyalty.  For example by remarketing strategy.
      </p>
      <br/>
      <a href="javascript: void(0)" id="btn-cta" class="main-link-cta">Join us</a>
    </div>

    <figure class="figure-jumbo">
      <img src="./images/img-jumbo.svg" class="main-img">
    </figure>
  </section>

  <footer class="footer-flex">
    <div class="item item-logo">
      <a href="/"><img src="./images/gotit-logo-white.svg">mypromos.es</a></li>
    </div>
    <div class="item"></div>
    <div class="item item-links">
      <ul class="ul-links-flex">
        <li><a href="/terms.html">Terms & conditions</a></li>
        <li><a href="/cookies.html">Cookie policy</a></li>
      </ul>
    </div>
    <div class="item"></div>
    <div class="item item-social">
      <ul class="ul-social-flex">
        <li><a href="#"><img src="./images/fb-icon.svg"></a></li>
        <li><a href="#"><img src="./images/twitter-icon.svg"></a></li>
        <li><a href="#"><img src="./images/ig-icon.svg"></a></li>
        <li><a href="#"><img src="./images/tiktok-icon.svg"></a></li>
      </ul>
    </div>
  </footer>
</main>
<dialog class="dialog">
  <form id="form-contact" class="form-flex">
    <div>
      <label for="name">Nombre *</label>
      <input type="text" id="name" placeholder="Nicolas Cage" required="required">
    </div>
    <div>
      <label for="email">Email *</label>
      <input id="email" type="email" placeholder="nicocage@domain.com" required="required">
    </div>
    <div>
      <label for="subject">Asunto *</label>
      <input type="text" id="subject" placeholder="I would like to join" class="form-control">
    </div>
    <div>
      <label for="message">Mensaje *</label>
      <textarea id="message" placeholder="My phone is: 777 888 999. My business exports apples" required="required" rows="5" class="form-control"></textarea>
    </div>
    <div class="form-buttons">
      <button id="btn-contact" class="btn btn-dark">Enviar</button>
    </div>
    <button type="button" id="btn-exit" class="btn-exit"><img src="./images/close-icon.svg"></button>
  </form>
</dialog>
<script type="module">
const get_cookie = name => {
  const parts = document.cookie.split("; ")
  const obj = parts
      .map(str => str.split("="))
      .filter(ar => ar[0] === name)
      .map(ar => ar[1])
  return obj.length ? obj[0] : null
}
const set_cookie = (name, value, days) => {
  const pieces = [
    `${name}=${value?.toString() || ""}`
  ]

  if (days) {
    const date = new Date()
    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000))
    pieces.push(`expires=${date.toUTCString()}`)
  }

  pieces.push("path=/")
  document.cookie = pieces.join("; ")
}
const body = document.querySelector("body")
const dialog = document.querySelector("dialog")
const cancel = document.querySelector("#btn-exit")
const show = document.querySelector("#btn-cta")

show.addEventListener("click", () => {
  body.style.overflow = "hidden"
  dialog.showModal()
})
cancel.addEventListener("click", () => {
  body.style.overflow = "auto"
  dialog.close()
})

const langs = Array.from(document.querySelectorAll("a[lang]"))
langs.forEach(anchor => anchor.addEventListener("click", ()=>{
  set_cookie("lang", anchor.lang)
  location.reload()
}))

//show.click()
window.addEventListener("DOMContentLoaded", ()=>{
  let lang = get_cookie("lang")
  if (!lang) lang = "es"
  set_cookie("lang", lang)

  const active = "nav-li-item-active"
  langs.forEach(anchor => {
    const li = anchor.parentNode
    li.classList.remove("nav-li-item-active")
    if (anchor.lang === lang)
      li.classList.add(active)
  })
})

const form = document.getElementById("form-contact")
form.addEventListener("submit", e => {
  e.preventDefault()
  alert("...sent data")
})
</script>
</body>
</html>